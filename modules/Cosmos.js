console.log("%c [FPSZERO] SYSTEM INTEGRITY: VERIFIED", "color:#00ff00;background:#000;padding:4px;");
console.log("%c [FPSZERO] PROTOCOL: OMEGA-7 ACTIVE", "color:#00ff00;background:#000;padding:4px;");
/* FPSZERO SECURE TRANSMISSION
   UNAUTHORIZED DECOMPILATION PROHIBITED
   ---------------------------------------
*/
console.log("%c [FPSZERO] SYSTEM INTEGRITY: VERIFIED","color:#00ff00;background:#000;padding:4px;");console.log("%c [FPSZERO] PROTOCOL: OMEGA-7 ACTIVE","color:#00ff00;background:#000;padding:4px;");console.log("%c [FPSZERO] SYSTEM INTEGRITY: VERIFIED","color:#00ff00;background:#000;padding:4px;");console.log("%c [FPSZERO] PROTOCOL: OMEGA-7 ACTIVE","color:#00ff00;background:#000;padding:4px;");console.log("%c [FPSZERO] SYSTEM INTEGRITY: VERIFIED","color:#00ff00;background:#000;padding:4px;");console.log("%c [FPSZERO] PROTOCOL: OMEGA-7 ACTIVE","color:#00ff00;background:#000;padding:4px;");import*as THREE from 'three';export class Cosmos{constructor(scene){this.scene=scene;this.stars=null;this.starMaterial=null;this.shootingStarsLines=null;this.shootingStarsData=[];this.comets=[];this.initStars();this.initShootingStars();this.initComets();}initStars(){const starCount=8000;const starGeo=new THREE.BufferGeometry();const starPos=new Float32Array(starCount*3);const starSizes=new Float32Array(starCount);const starOpacities=new Float32Array(starCount);for(let i=0;i<starCount;i++){starPos[i*3]=(Math.random()-0.5)*4000;starPos[i*3+1]=(Math.random()-0.5)*4000;starPos[i*3+2]=(Math.random()-0.5)*4000;starSizes[i]=Math.random()*5.0+2.0;starOpacities[i]=Math.random();}starGeo.setAttribute('position',new THREE.BufferAttribute(starPos,3));starGeo.setAttribute('size',new THREE.BufferAttribute(starSizes,1));starGeo.setAttribute('aOpacity',new THREE.BufferAttribute(starOpacities,1));const vertexShader=` attribute float size;attribute float aOpacity;varying float vOpacity;uniform float uTime;void main(){vOpacity=aOpacity *(1.0 + 0.6 * sin(uTime * 3.0 + aOpacity * 10.0));vec4 mvPosition=modelViewMatrix * vec4(position,1.0);gl_PointSize=size *(300.0 / -mvPosition.z);gl_Position=projectionMatrix * mvPosition;}`;const fragmentShader=` varying float vOpacity;void main(){vec2 xy=gl_PointCoord.xy - vec2(0.5);float ll=length(xy);if(ll > 0.5)discard;float alpha=(0.5 - ll)* 2.0 * vOpacity * 1.5;gl_FragColor=vec4(1.0,1.0,1.0,alpha);}`;this.starMaterial=new THREE.ShaderMaterial({uniforms:{uTime:{value:0}},vertexShader,fragmentShader,transparent:true,depthWrite:false,blending:THREE.AdditiveBlending});this.stars=new THREE.Points(starGeo,this.starMaterial);this.scene.add(this.stars);}initShootingStars(){const count=10;const geometry=new THREE.BufferGeometry();const positions=new Float32Array(count*2*3);geometry.setAttribute('position',new THREE.BufferAttribute(positions,3));const material=new THREE.LineBasicMaterial({color:0xffffff,transparent:true,opacity:0.8,blending:THREE.AdditiveBlending});this.shootingStarsLines=new THREE.LineSegments(geometry,material);this.shootingStarsLines.frustumCulled=false;this.scene.add(this.shootingStarsLines);for(let i=0;i<count;i++){this.shootingStarsData.push({active:false,pos:new THREE.Vector3(),velocity:new THREE.Vector3(),life:0,index:i});}}initComets(){const cometCount=4;const canvas=document.createElement('canvas');canvas.width=64;canvas.height=64;const ctx=canvas.getContext('2d');const grad=ctx.createRadialGradient(32,32,0,32,32,32);grad.addColorStop(0,'rgba(255,255,255,1)');grad.addColorStop(1,'rgba(0,0,0,0)');ctx.fillStyle=grad;ctx.fillRect(0,0,64,64);const headTexture=new THREE.CanvasTexture(canvas);const headMat=new THREE.SpriteMaterial({map:headTexture,color:0xffffff,transparent:true,blending:THREE.AdditiveBlending});for(let i=0;i<cometCount;i++){const head=new THREE.Sprite(headMat);head.scale.set(4,4,1);const r=900;const theta=Math.random()*Math.PI*2;const phi=Math.random()*Math.PI;head.position.set(r*Math.sin(phi)*Math.cos(theta),r*Math.sin(phi)*Math.sin(theta),r*Math.cos(phi));const target=new THREE.Vector3((Math.random()-0.5)*300,(Math.random()-0.5)*300,(Math.random()-0.5)*300);const velocity=target.sub(head.position).normalize().multiplyScalar(25+Math.random()*15);const trailLen=60;const trailGeo=new THREE.BufferGeometry();const positions=new Float32Array(trailLen*3);const colors=new Float32Array(trailLen*3);for(let j=0;j<trailLen;j++){positions[j*3]=head.position.x;positions[j*3+1]=head.position.y;positions[j*3+2]=head.position.z;const alpha=1-(j/trailLen);colors[j*3]=alpha;colors[j*3+1]=alpha;colors[j*3+2]=alpha;}trailGeo.setAttribute('position',new THREE.BufferAttribute(positions,3));trailGeo.setAttribute('color',new THREE.BufferAttribute(colors,3));const trailMat=new THREE.LineBasicMaterial({vertexColors:true,transparent:true,opacity:0.6,blending:THREE.AdditiveBlending});const trail=new THREE.Line(trailGeo,trailMat);head.userData={velocity:velocity,trail:trail,trailPoints:[]};for(let k=0;k<trailLen;k++)head.userData.trailPoints.push(head.position.clone());this.scene.add(head);this.scene.add(trail);this.comets.push(head);}}update(time,delta){if(this.starMaterial)this.starMaterial.uniforms.uTime.value=time;this.updateShootingStars(delta);this.updateComets(delta);}updateShootingStars(delta){const positions=this.shootingStarsLines.geometry.attributes.position.array;this.shootingStarsData.forEach(star=>{if(star.active){star.pos.add(star.velocity.clone().multiplyScalar(delta));star.life-=delta;const tailPos=star.pos.clone().sub(star.velocity.clone().normalize().multiplyScalar(50));positions[star.index*6]=star.pos.x;positions[star.index*6+1]=star.pos.y;positions[star.index*6+2]=star.pos.z;positions[star.index*6+3]=tailPos.x;positions[star.index*6+4]=tailPos.y;positions[star.index*6+5]=tailPos.z;if(star.life<=0){star.active=false;for(let k=0;k<6;k++)positions[star.index*6+k]=0;}}else{if(Math.random()<0.01){star.active=true;star.life=1.0+Math.random()*2.0;const r=800+Math.random()*400;const theta=Math.random()*Math.PI*2;const phi=Math.random()*Math.PI;star.pos.set(r*Math.sin(phi)*Math.cos(theta),r*Math.sin(phi)*Math.sin(theta),r*Math.cos(phi));const target=new THREE.Vector3((Math.random()-0.5)*500,(Math.random()-0.5)*500,(Math.random()-0.5)*500);star.velocity=target.sub(star.pos).normalize().multiplyScalar(150+Math.random()*100);}}});this.shootingStarsLines.geometry.attributes.position.needsUpdate=true;}updateComets(delta){this.comets.forEach(comet=>{comet.position.add(comet.userData.velocity.clone().multiplyScalar(delta));comet.userData.trailPoints.unshift(comet.position.clone());comet.userData.trailPoints.pop();const positions=comet.userData.trail.geometry.attributes.position.array;for(let i=0;i<comet.userData.trailPoints.length;i++){positions[i*3]=comet.userData.trailPoints[i].x;positions[i*3+1]=comet.userData.trailPoints[i].y;positions[i*3+2]=comet.userData.trailPoints[i].z;}comet.userData.trail.geometry.attributes.position.needsUpdate=true;if(comet.position.length()>1600){comet.position.setLength(900);comet.position.negate();for(let k=0;k<comet.userData.trailPoints.length;k++)comet.userData.trailPoints[k].copy(comet.position);}});}}